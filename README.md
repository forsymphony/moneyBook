# ä¸ªäººè®°è´¦æœ¬åº”ç”¨

åŸºäº Vue3 + ECharts + é˜¿é‡Œäº‘ ESA EdgeKV çš„ä¸ªäººè®°è´¦æœ¬åº”ç”¨ã€‚

## åŠŸèƒ½ç‰¹æ€§

- âœ… äº¤æ˜“è®°å½•ç®¡ç†ï¼ˆæ·»åŠ ã€ç¼–è¾‘ã€åˆ é™¤ï¼‰
- âœ… åˆ†ç±»ç®¡ç†ï¼ˆè‡ªå®šä¹‰åˆ†ç±»ï¼‰
- âœ… é¢„ç®—è®¾ç½®å’Œç›‘æ§
- âœ… æ•°æ®å¯è§†åŒ–ï¼ˆé¥¼å›¾ã€æŸ±çŠ¶å›¾ã€æŠ˜çº¿å›¾ï¼‰
- âœ… æœˆåº¦ç»Ÿè®¡å’Œåˆ†æ
- âœ… å¤šæœˆä»½å¯¹æ¯”

## æŠ€æœ¯æ ˆ

- **å‰ç«¯**: Vue 3 (Composition API) + Vue Router
- **å›¾è¡¨**: ECharts
- **åç«¯**: é˜¿é‡Œäº‘ ESA è¾¹ç¼˜å‡½æ•°
- **å­˜å‚¨**: ESA EdgeKV
- **æ„å»ºå·¥å…·**: Vite

## é¡¹ç›®ç»“æ„

```
é¡¹ç›®æ ¹ç›®å½•/
â”œâ”€â”€ edge-function/              # ESA è¾¹ç¼˜å‡½æ•°ï¼ˆéƒ¨ç½²åˆ° ESAï¼‰
â”‚   â””â”€â”€ index.js                # è¾¹ç¼˜å‡½æ•°ä¸»æ–‡ä»¶
â”œâ”€â”€ src/                        # Vue3 å‰ç«¯é¡¹ç›®
â”‚   â”œâ”€â”€ components/             # ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ TransactionForm.vue    # äº¤æ˜“è¡¨å•
â”‚   â”‚   â”œâ”€â”€ TransactionList.vue     # äº¤æ˜“åˆ—è¡¨
â”‚   â”‚   â”œâ”€â”€ CategoryManager.vue    # åˆ†ç±»ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ BudgetManager.vue       # é¢„ç®—ç®¡ç†
â”‚   â”‚   â””â”€â”€ Charts/                 # å›¾è¡¨ç»„ä»¶
â”‚   â”‚       â”œâ”€â”€ PieChart.vue        # é¥¼å›¾
â”‚   â”‚       â”œâ”€â”€ BarChart.vue         # æŸ±çŠ¶å›¾
â”‚   â”‚       â””â”€â”€ LineChart.vue       # æŠ˜çº¿å›¾
â”‚   â”œâ”€â”€ views/                  # é¡µé¢
â”‚   â”‚   â”œâ”€â”€ Home.vue            # é¦–é¡µ
â”‚   â”‚   â”œâ”€â”€ Transactions.vue    # äº¤æ˜“è®°å½•é¡µ
â”‚   â”‚   â””â”€â”€ Statistics.vue     # ç»Ÿè®¡åˆ†æé¡µ
â”‚   â”œâ”€â”€ api/                    # API å°è£…
â”‚   â”‚   â””â”€â”€ index.js            # API è°ƒç”¨å‡½æ•°
â”‚   â”œâ”€â”€ utils/                  # å·¥å…·å‡½æ•°
â”‚   â”‚   â”œâ”€â”€ date.js             # æ—¥æœŸå¤„ç†
â”‚   â”‚   â””â”€â”€ format.js           # æ•°æ®æ ¼å¼åŒ–
â”‚   â”œâ”€â”€ App.vue                 # æ ¹ç»„ä»¶
â”‚   â””â”€â”€ main.js                 # å…¥å£æ–‡ä»¶
â”œâ”€â”€ package.json                # é¡¹ç›®é…ç½®
â”œâ”€â”€ vite.config.js              # Vite é…ç½®
â””â”€â”€ README.md                   # è¯´æ˜æ–‡æ¡£
```

## å¿«é€Ÿå¼€å§‹

### 1. å®‰è£…ä¾èµ–

```bash
npm install
```

### 2. é…ç½® API åœ°å€

åœ¨ `src/api/index.js` ä¸­ä¿®æ”¹ `API_BASE` ä¸ºä½ çš„ ESA è¾¹ç¼˜å‡½æ•°åŸŸåï¼š

```javascript
const API_BASE = 'https://your-esa-domain.com';
```

æˆ–è€…åœ¨é¡¹ç›®æ ¹ç›®å½•åˆ›å»º `.env` æ–‡ä»¶ï¼š

```
VITE_API_BASE=https://your-esa-domain.com
```

### 3. å¯åŠ¨å¼€å‘æœåŠ¡å™¨

```bash
npm run dev
```

è®¿é—® http://localhost:3000

### 4. æ„å»ºç”Ÿäº§ç‰ˆæœ¬

```bash
npm run build
```

## éƒ¨ç½²è¯´æ˜

### 1. éƒ¨ç½²è¾¹ç¼˜å‡½æ•°

1. ç™»å½• [é˜¿é‡Œäº‘æ§åˆ¶å°](https://www.aliyun.com/)
2. å¼€é€š ESA æœåŠ¡
3. åˆ›å»º EdgeKV å‘½åç©ºé—´ï¼ˆå¦‚ `accounting-app`ï¼‰
4. åˆ›å»ºè¾¹ç¼˜å‡½æ•°ï¼Œå°† `edge-function/index.js` çš„ä»£ç å¤åˆ¶è¿›å»
5. é…ç½®è·¯ç”±è§„åˆ™ï¼š`/api/*` æŒ‡å‘è¯¥è¾¹ç¼˜å‡½æ•°

### 2. éƒ¨ç½²å‰ç«¯

å°†æ„å»ºåçš„ `dist` ç›®å½•éƒ¨ç½²åˆ°ä»»æ„é™æ€æœåŠ¡å™¨æˆ– CDNã€‚

## API æ¥å£è¯´æ˜

### äº¤æ˜“è®°å½•

- `GET /api/transactions?month=2024-01` - è·å–æŸæœˆäº¤æ˜“è®°å½•
- `POST /api/transactions` - æ·»åŠ äº¤æ˜“è®°å½•
- `PUT /api/transactions/:id` - æ›´æ–°äº¤æ˜“è®°å½•
- `DELETE /api/transactions/:id` - åˆ é™¤äº¤æ˜“è®°å½•

### åˆ†ç±»ç®¡ç†

- `GET /api/categories` - è·å–åˆ†ç±»åˆ—è¡¨
- `POST /api/categories` - æ·»åŠ åˆ†ç±»
- `DELETE /api/categories/:id` - åˆ é™¤åˆ†ç±»

### é¢„ç®—ç®¡ç†

- `GET /api/budgets` - è·å–é¢„ç®—è®¾ç½®
- `POST /api/budgets` - è®¾ç½®é¢„ç®—

### ç»Ÿè®¡æ•°æ®

- `GET /api/stats?month=2024-01` - è·å–ç»Ÿè®¡æ•°æ®

## æ•°æ®å­˜å‚¨ç»“æ„

### EdgeKV é”®åè®¾è®¡

- `transactions_YYYY_MM`: æŒ‰æœˆå­˜å‚¨äº¤æ˜“è®°å½•æ•°ç»„
- `categories`: åˆ†ç±»é…ç½®æ•°ç»„
- `budgets`: é¢„ç®—è®¾ç½®å¯¹è±¡

### æ•°æ®æ ¼å¼

**äº¤æ˜“è®°å½•**:
```json
{
  "id": "xxx",
  "type": "income" | "expense",
  "amount": 100.00,
  "category": "food",
  "date": "2024-01-15",
  "note": "å¤‡æ³¨ä¿¡æ¯",
  "createdAt": "2024-01-15T10:00:00Z"
}
```

**åˆ†ç±»é…ç½®**:
```json
{
  "id": "food",
  "name": "é¤é¥®",
  "icon": "ğŸ”",
  "type": "expense"
}
```

**é¢„ç®—è®¾ç½®**:
```json
{
  "food": 1000.00,
  "transport": 500.00
}
```

## æ³¨æ„äº‹é¡¹

1. **å­˜å‚¨é™åˆ¶**: EdgeKV å•ä¸ªå‘½åç©ºé—´æœ€å¤§æ”¯æŒ 1GB
2. **æ•°æ®åŒæ­¥**: æ•°æ®ä¼šåœ¨å‡ ç§’åˆ°åå‡ ç§’å†…åŒæ­¥åˆ°å…¨çƒè¾¹ç¼˜èŠ‚ç‚¹
3. **CORS**: è¾¹ç¼˜å‡½æ•°å·²å¤„ç†è·¨åŸŸè¯·æ±‚
4. **æ•°æ®éªŒè¯**: é‡‘é¢ä¸ºæ•°å­—ï¼Œåˆ†ç±»ä¸ºå›ºå®šé€‰é¡¹ï¼Œå¤‡æ³¨é™åˆ¶100å­—ç¬¦

## å¼€å‘å»ºè®®

1. ä½¿ç”¨ç¯å¢ƒå˜é‡ç®¡ç† API åœ°å€
2. æ·»åŠ é”™è¯¯å¤„ç†å’ŒåŠ è½½çŠ¶æ€
3. ä¼˜åŒ–ç§»åŠ¨ç«¯ä½“éªŒ
4. æ·»åŠ æ•°æ®å¯¼å‡ºåŠŸèƒ½
5. å®ç°æ•°æ®å¤‡ä»½æœºåˆ¶

## è®¸å¯è¯

MIT License

